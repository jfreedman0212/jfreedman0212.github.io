<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Configuring Nested Styled Components - Josh Freedman</title><meta name=viewport content="width=device-width,initial-scale=1"><meta itemprop=name content="Configuring Nested Styled Components"><meta itemprop=description content="Fine-grained and localized styling for Styled Components"><meta itemprop=datePublished content="2021-07-03T00:42:26-04:00"><meta itemprop=dateModified content="2021-07-03T00:42:26-04:00"><meta itemprop=wordCount content="443"><meta itemprop=keywords content="react,styled-components,css,javascript,"><meta property="og:title" content="Configuring Nested Styled Components"><meta property="og:description" content="Fine-grained and localized styling for Styled Components"><meta property="og:type" content="article"><meta property="og:url" content="https://jfreedman0212.github.io/posts/styled-components-config/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-07-03T00:42:26-04:00"><meta property="article:modified_time" content="2021-07-03T00:42:26-04:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Configuring Nested Styled Components"><meta name=twitter:description content="Fine-grained and localized styling for Styled Components"><link href="https://fonts.googleapis.com/css?family=Playfair+Display:700" rel=stylesheet type=text/css><link rel=stylesheet type=text/css media=screen href=https://jfreedman0212.github.io/css/normalize.css><link rel=stylesheet type=text/css media=screen href=https://jfreedman0212.github.io/css/main.css><link id=dark-scheme rel=stylesheet type=text/css href=https://jfreedman0212.github.io/css/dark.css><script src=https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js></script><script src=https://jfreedman0212.github.io/js/main.js></script></head><body><div class="container wrapper"><div class=header><h1 class=site-title><a href=https://jfreedman0212.github.io/>Josh Freedman</a></h1><div class=site-description><p>My personal archive for code snippets and ramblings about software and life</p><nav class="nav social"><ul class=flat><li><a href=https://github.com/jfreedman0212 title=GitHub><i data-feather=github></i></a></li><li><a href=https://twitter.com/jfreedman0212 title=Twitter><i data-feather=twitter></i></a></li></ul></nav></div><nav class=nav><ul class=flat><li><a href=/>Home</a></li><li><a href=/posts>All Posts</a></li><li><a href=/tags>Tags</a></li></ul></nav></div><div class=post><div class=post-header><div class=meta><div class=date><span class=day>03</span>
<span class=rest>Jul 2021</span></div></div><div class=matter><h1 class=title>Configuring Nested Styled Components</h1></div></div><div class=markdown><p>Let&rsquo;s consider a component that looks something like this (ignoring the obvious issues with the form itself):</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tsx data-lang=tsx><span style=color:#268bd2>const</span> Form <span style=color:#719e07>=</span> styled.form<span style=color:#586e75>`
</span><span style=color:#586e75>    padding: 1rem;
</span><span style=color:#586e75>    border: 1px solid black;
</span><span style=color:#586e75>    display: flex;
</span><span style=color:#586e75>    flex-direction: column;
</span><span style=color:#586e75>    gap: 2rem;
</span><span style=color:#586e75>`</span>;

<span style=color:#268bd2>const</span> Input <span style=color:#719e07>=</span> styled.input<span style=color:#586e75>`
</span><span style=color:#586e75>    border-radius: 5px;
</span><span style=color:#586e75>    padding: 1rem;
</span><span style=color:#586e75>`</span>;

<span style=color:#268bd2>const</span> InformationForm: <span style=color:#dc322f>FC</span> <span style=color:#719e07>=</span> () <span style=color:#719e07>=&gt;</span> {
  <span style=color:#719e07>return</span> (
      &lt;<span style=color:#268bd2>Form</span>&gt;
        &lt;<span style=color:#268bd2>Input</span> name<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;firstName&#34;</span> /&gt;
        &lt;<span style=color:#268bd2>Input</span> name<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;lastName&#34;</span> /&gt;
      &lt;/<span style=color:#268bd2>Form</span>&gt;
    );
};

<span style=color:#268bd2>export</span> <span style=color:#719e07>default</span> InformationForm;
</code></pre></div><p>I build out my feature like this and I&rsquo;m on my way. Later down the line, we
want to add this form to another app with some minor tweaks:</p><ul><li>The fields need to laid out horizontally instead of vertically</li><li>The form needs to be a simple gray box with no border</li></ul><p>We could pull this out into some global configuration/theming, but that seems too heavy
for something as localized as this. Instead, we could expose the individual Styled
Components and extend them how we see fit. At the bottom of the code above, we add:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tsx data-lang=tsx><span style=color:#268bd2>export</span> <span style=color:#719e07>default</span> InformationForm;
<span style=color:#268bd2>export</span> { Form };
</code></pre></div><p>And in the new file where we&rsquo;re making the new version:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tsx data-lang=tsx><span style=color:#268bd2>import</span> InformationForm, { Form } <span style=color:#268bd2>from</span> <span style=color:#2aa198>&#34;./InformationForm&#34;</span>;

<span style=color:#268bd2>const</span> NewStyles <span style=color:#719e07>=</span> styled.div<span style=color:#586e75>`
</span><span style=color:#586e75>    &amp; </span><span style=color:#2aa198>${</span>Form<span style=color:#2aa198>}</span><span style=color:#586e75> {
</span><span style=color:#586e75>        flex-direction: row;
</span><span style=color:#586e75>        border: none;
</span><span style=color:#586e75>        background-color: #eee;
</span><span style=color:#586e75>    }
</span><span style=color:#586e75>`</span>;

<span style=color:#268bd2>const</span> NewInformationForm: <span style=color:#dc322f>FC</span> <span style=color:#719e07>=</span> () <span style=color:#719e07>=&gt;</span> {
    <span style=color:#719e07>return</span> (
        &lt;<span style=color:#268bd2>NewStyles</span>&gt;
            &lt;<span style=color:#268bd2>InformationForm</span> /&gt;
        &lt;/<span style=color:#268bd2>NewStyles</span>&gt;
    );
};
</code></pre></div><h1 id=why-is-this-better>Why Is This Better?</h1><p>The problem of &ldquo;I have this component but just need to tweak <em>one</em> style&rdquo; comes up
pretty often, especially when trying to share components between applications. Your
stateful logic is the same, so making more components seems like a weird way to
go about this. There are two other alternatives I can think of:</p><ol><li>Move these styles up into the top-level theme (as mentioned before)</li><li>Add props to my component that dictate these details</li></ol><p>Moving it into the theme <em>may</em> make sense, but I believe that this isn&rsquo;t the best choice.
This would allow other components to base their styles off of that one. Why should your
nav bar layout care how your &ldquo;user information&rdquo; form is laid out? Instead, the
top-level theme should be where your &ldquo;theme primitives&rdquo; go (brand colors, spacing, etc.).</p><p>Adding props for this <em>may also</em> make sense. Sometimes, this may be the way to go! I
would go for this approach if the number of options for that prop are finite. In the
example above, we could add a <code>direction</code> prop to <code>InformationForm</code> that takes in
either <code>"row"</code> or <code>"col"</code> and switches between the appropriate values for <code>flex-direction</code>.
However, for cases where we either need total control or the options are not finite/large,
this can become cumbersome.</p><p>As always, there is no single &ldquo;correct&rdquo; approach, so use your best judgement.</p></div><div class=tags><ul class=flat><li><a href=/tags/react>react</a></li><li><a href=/tags/styled-components>styled-components</a></li><li><a href=/tags/css>css</a></li><li><a href=/tags/javascript>javascript</a></li></ul></div></div></div><div class="footer wrapper"><nav class=nav><div>2021 Â© Copyright notice</div></nav></div><script>feather.replace()</script></body></html>